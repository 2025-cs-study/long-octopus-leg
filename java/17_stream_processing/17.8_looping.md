## 17.8 μ”μ†λ¥Ό ν•λ‚μ”© μ²λ¦¬(λ£¨ν•‘)
- π’  λ£¨ν•‘ : μ¤νΈλ¦Όμ—μ„ μ”μ†λ¥Ό ν•λ‚μ”© λ°λ³µν•΄μ„ κ°€μ Έμ™€ μ²λ¦¬ν•λ” κ²ƒ
### λ£¨ν•‘ λ©”μ†λ“
- π’  `peek()` : μ”μ†λ¥Ό λ£¨ν•‘ν•λ” **μ¤‘κ°„** μ²λ¦¬ λ©”μ†λ“ β΅οΈ μµμΆ… μ²λ¦¬κ°€ λ’¤μ— λ¶™μ§€ μ•μΌλ©΄ λ™μ‘ν•μ§€ μ•μ.
- π’  `forEach()` : μ”μ†λ¥Ό λ£¨ν•‘ν•λ” **μµμΆ…** μ²λ¦¬ λ©”μ†λ“

<table border="1">
  <tr>
    <td>λ¦¬ν„΄ νƒ€μ…</td>
    <td>λ©”μ†λ“(λ§¤κ°λ³€μ)</td>
    <td>μ„¤λ…</td>
  </tr>
  <tr>
    <td rowspan="3">Stream&lt;T&gt;<br>IntStream<br>DoubleStream</td>
    <td><code>peek(Consumer&lt;? super T&gt; action)</code></td>
    <td>T λ°λ³µ</td>
  </tr>
  <tr>
    <td><code>peek(IntConsumer action)</code></td>
    <td>int λ°λ³µ</td>
  </tr>
  <tr>
    <td><code>peek(DoubleConsumer action)</code></td>
    <td>double λ°λ³µ</td>
  </tr>
  <tr>
    <td rowspan="3">void</td>
    <td><code>forEach(Consumer&lt;? super T&gt; action)</code></td>
    <td>T λ°λ³µ</td>
  </tr>
  <tr>
    <td><code>forEach(IntConsumer action)</code></td>
    <td>int λ°λ³µ</td>
  </tr>
  <tr>
    <td><code>forEach(DoubleConsumer action)</code></td>
    <td>double λ°λ³µ</td>
  </tr>
</table>

### ν•¨μν• μΈν„°νμ΄μ¤ Consumer
- λ§¤κ°νƒ€μ…μΈ `Consumer`λ” **ν•¨μν• μΈν„°νμ΄μ¤**λ΅ μ•„λμ™€ κ°™μ€ μΆ…λ¥κ°€ μμ.
- π’΅ ν•¨μν• μΈν„°νμ΄μ¤ : λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ†λ“λ§μ„ κ°€μ§„ μΈν„°νμ΄μ¤(λλ‹¤ ν‘ν„μ‹μ΄λ‚ λ©”μ†λ“ μ°Έμ΅°λ¥Ό ν†µν•΄ μΈμ¤ν„΄μ¤ν™”ν•  μ μμ.)
    <table border="1">
      <tr>
        <td>μΈν„°νμ΄μ¤λ…</td>
        <td>μ¶”μƒ λ©”μ†λ“</td>
        <td>μ„¤λ…</td>
      </tr>
      <tr>
        <td>Consumer&lt;T&gt;</td>
        <td><code>void accept(T t)</code></td>
        <td>λ§¤κ°κ°’ Tλ¥Ό λ°›μ•„ μ†λΉ„</td>
      </tr>
      <tr>
        <td>IntConsumer</td>
        <td><code>void accept(int value)</code></td>
        <td>λ§¤κ°κ°’ intλ¥Ό λ°›μ•„ μ†λΉ„</td>
      </tr>
      <tr>
        <td>LongConsumer</td>
        <td><code>void accept(long value)</code></td>
        <td>λ§¤κ°κ°’ longμ„ λ°›μ•„ μ†λΉ„</td>
      </tr>
      <tr>
        <td>DoubleConsumer</td>
        <td><code>void accept(double value)</code></td>
        <td>λ§¤κ°κ°’ doubleμ„ λ°›μ•„ μ†λΉ„</td>
      </tr>
    </table>
- λ¨λ“  Consumerλ” λ§¤κ°κ°’μ„ μ²λ¦¬(μ†λΉ„)ν•λ” `accept()` λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μμ.
- Consumer<? super T>λ¥Ό λλ‹¤μ‹μΌλ΅ ν‘ν„ν•λ©΄ μ•„λμ™€ κ°™μ.
  ```java
  T -> { β‹― }
  λλ”
  T -> μ‹¤ν–‰λ¬Έ; // ν•λ‚μ μ‹¤ν–‰λ¬Έλ§ μμ„ κ²½μ° μ¤‘κ΄„νΈ μƒλµ
  ```
### μμ‹ μ½”λ“

```java
int[] arr = {1, 2, 3, 4, 5};

// μ¤‘κ°„ μ²λ¦¬ λ©”μ†λ“ peek()μ„ μ΄μ©ν•΄μ„ λ°λ³µ μ²λ¦¬
int total = Arrays.stream(arr)
        .filter(a -> a % 2 == 0)
        .peek(n -> System.out.println(n))   // IntConsumer μΈμ¤ν„΄μ¤ν™”
        .sum();
System.out.println("μ΄ν•©: " + total + "\n");

// μµμΆ… μ²λ¦¬ λ©”μ†λ“ forEach()λ¥Ό μ΄μ©ν•΄μ„ λ°λ³µ μ²λ¦¬
Arrays.stream(arr)
    .filter(a -> a % 2 == 0)
    .forEach(n -> System,out.println(n));   // IntConsumer μΈμ¤ν„΄μ¤ν™”
```

### π™‹ λ©΄μ ‘ μμƒ μ§λ¬Έ
- μ¤νΈλ¦Όμ—μ„ λ£¨ν•‘μ΄λ€ λ¬΄μ—‡μΈμ§€ μ„¤λ…ν•κ³ , `peek()`μ™€ `forEach()` λ©”μ†λ“μ μ°¨μ΄μ μ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.
- ν•¨μν• μΈν„°νμ΄μ¤λ€ λ¬΄μ—‡μΈμ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”.
- Consumer μΈν„°νμ΄μ¤λ” μ–΄λ–¤ μ—­ν• μ„ ν•λ”μ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”.
- μ¤νΈλ¦Όμ—μ„ μ§€μ—° μ—°μ‚°(lazy evaluation)μ΄λ€ λ¬΄μ—‡μ΄λ©°, μ–΄λ–¤ μ¥μ μ΄ μλ”μ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”.
- `peek()` λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μμ •ν•λ” κ²ƒμ΄ κ¶μ¥λμ§€ μ•λ” μ΄μ μ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.