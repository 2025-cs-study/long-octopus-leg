## 6.3 ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ì²´ì¸
- ì‹¤ì œ ì•±ì—ì„œëŠ” ë©”ì„œë“œê°€ ì• ìŠ¤í™íŠ¸ ë‘ ê°œ ì´ìƒìœ¼ë¡œ ê°€ë¡œì±„ê¸°ë  ë•Œë„ ë§ìŒ.
- ê¸°ë³¸ì ìœ¼ë¡œ ìŠ¤í”„ë§ì€ ë™ì¼í•œ ì‹¤í–‰ ì²´ì¸ì— ìˆëŠ” ë‘ ì• ìŠ¤í™íŠ¸ê°€ í˜¸ì¶œë˜ëŠ” ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ.
- **ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ìˆœì„œë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤ë©´** â¡ï¸ `@Order` ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
    - ì´ ì• ë„ˆí…Œì´ì…˜ì€ íŠ¹ì • ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ì²´ì¸ì—ì„œ ìˆœì„œ ë²ˆí˜¸ë¥¼ ë°›ìŒ.
    - í•´ë‹¹ ì• ìŠ¤í™íŠ¸ ìˆ«ìê°€ ì‘ì„ìˆ˜ë¡ ë” ì¼ì° ì‹¤í–‰ë˜ê³ , ë‘ ê°’ì´ ê°™ìœ¼ë©´ ì‹¤í–‰ ìˆœì„œê°€ ì§€ì •ë˜ì§€ ì•ŠìŒ.
- ì•„ë˜ ì˜ˆì‹œì—ëŠ” `SecurityAspect`ì™€ `LoggingAspect` ë¼ëŠ” ë‘ ê°€ì§€ì˜ ì• ìŠ¤í™íŠ¸ê°€ ìˆìŒ.
  <details>
    <summary>ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ìˆœì„œë¥¼ ì •ì˜í•˜ì§€ ì•Šì€ ì½”ë“œ</summary>

    ```java
    @Aspect
    public class LoggingAspect {
    
        private Logger logger = Logger.getLogger(LoggingAspect.class.getName());
    
        @Around(value = "@annotation(ToLog)")
        public Object log(ProceedingJoinPoint joinPoint) throws Throwable {
            logger.info("Logging Aspect: Calling the intercepted method");
            Object returnedValue = joinPoint.proceed();
            logger.info("Logging Aspect: Method executed and returned " + returnedValue);
            return returnedValue;
        }
    }
    ```

    ```java
    @Aspect
    public class SecurityAspect {
    
        private Logger logger = Logger.getLogger(SecurityAspect.class.getName());
    
        @Around(value = "@annotation(ToLog)")
        public Object log(ProceedingJoinPoint joinPoint) throws Throwable {
            logger.info("Security Aspect: Calling the intercepted method");
            Object returnedValue = joinPoint.proceed();
            logger.info("Security Aspect: Method executed and returned " + returnedValue);
            return returnedValue;
        }
    }
    ```

    ```java
    @Configuration
    @ComponentScan(basePackages = "services")
    @EnableAspectJAutoProxy
    public class ProjectConfig {
    
        @Bean
        public LoggingAspect loggingAspect() {
            return new LoggingAspect();
        }
    
        @Bean
        public SecurityAspect securityAspect() {
            return new SecurityAspect();
        }
    }
    ```

    ```java
    public class Main {
    
        public static void main(String[] args) {
            var c = new AnnotationConfigApplicationContext(ProjectConfig.class);
    
            var service = c.getBean(CommentService.class);
    
            Comment comment = new Comment();
            comment.setText("Demo comment");
            comment.setAuthor("Natasha");
    
            service.publishComment(comment);
        }
    }
    ```
  ![img.png](./img/6_3_1.png)
  </details>
  <details>
    <summary>ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ìˆœì„œë¥¼ ì •ì˜í•œ ì½”ë“œ</summary>

    ```java
    @Aspect
    @Order(1)
    public class SecurityAspect {
    
        // ì½”ë“œ ìƒëµ
    }
    ```
    ```java
    @Aspect
    @Order(2)
    public class LoggingAspect {

        // ì½”ë“œ ìƒëµ
    }
    ```
  ![img.png](./img/6_3_2.png)
    - `Order()` ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.
  </details>
  
![img.png](./img/6_3_3.png)
- ìœ„ì˜ ê·¸ë¦¼ì€ ë‘ ê°œì˜ ì• ìŠ¤í™íŠ¸ ì‹¤í–‰ ì²´ì¸ì„ ì‹œê°í™”í•œ ê·¸ë¦¼ì„.


### ğŸ™‹ ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸
- ì—¬ëŸ¬ ì• ìŠ¤í™íŠ¸ê°€ ë™ì¼í•œ ì¡°ì¸íŠ¸ í¬ì¸íŠ¸ì— ì ìš©ë  ë•Œ ì‹¤í–‰ ìˆœì„œë¥¼ ì–´ë–»ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”.